# Aeryn-Deutsch 测试用例集

**版本**: v2.8.0
**覆盖范围**: P0-P2核心功能

---

## 📚 目录
1. [词汇学习测试](#词汇学习测试)
2. [语法表格测试](#语法表格测试)
3. [句子剖析测试](#句子剖析测试)
4. [AI对话系统测试](#ai对话系统测试)
5. [订阅系统测试](#订阅系统测试)
6. [个人知识库测试](#个人知识库测试)
7. [演讲学习测试](#演讲学习测试)

---

## 🎴 词汇学习测试

### TC-VOC-001: 基础词汇学习流程
**优先级**: P0 | **类型**: 功能测试

**前置条件**:
- 用户已登录
- 至少有10个词汇待学习

**测试步骤**:
1. 启动app
2. 点击底部导航"词汇"
3. 选择级别"A1"
4. 点击"开始学习"按钮
5. 等待第一张flashcard显示
6. 查看德语单词（正面）
7. 点击卡片或"显示答案"
8. 查看释义和例句（背面）
9. 点击评分按钮(1-4分)
10. 观察卡片翻转动效
11. 等待下一张卡片自动加载

**预期结果**:
- 所有步骤流畅执行，无卡顿
- Flashcard翻转动画自然
- 评分后自动加载下一张
- 进度条正确更新
- 学习统计正确保存

**实际结果**: ⬜

**通过/失败**: ⬜

---

### TC-VOC-002: FSRS算法调度
**优先级**: P1 | **类型**: 功能测试

**前置条件**:
- 已学习50+个词汇
- 跨度多天

**测试步骤**:
1. 打开词汇学习
2. 查看待复习词汇数量
3. 验证复习时间间隔
4. 学习新词汇
5. 检查调度算法是否按FSRS执行

**预期结果**:
- 复习词汇按FSRS算法调度
- 时间间隔根据记忆强度调整
- 难词汇更频繁出现
- 简单词汇间隔更长

**实际结果**: ⬜

**通过/失败**: ⬜

---

### TC-VOC-003: 词汇搜索功能
**优先级**: P1 | **类型**: 功能测试

**测试步骤**:
1. 进入词汇界面
2. 点击搜索图标
3. 输入德语单词"Tisch"
4. 查看搜索结果
5. 输入中文"桌子"
6. 查看搜索结果

**预期结果**:
- 德语搜索显示精确匹配
- 中文搜索显示包含该释义的所有词汇
- 搜索响应时间 < 500ms
- 支持模糊搜索

**实际结果**: ⬜

**通过/失败**: ⬜

---

## 📖 语法表格测试

### TC-GRM-001: 动词变位表查看
**优先级**: P0 | **类型**: 功能测试

**测试步骤**:
1. 点击"语法"标签
2. 点击"动词"
3. 选择不规则动词"sein"
4. 查看变位表

**预期结果**:
- 表格正确显示所有变位
- 包含ich, du, er, wir, ihr, sie六种人称
- 包含现在时、过去时等时态
- 表格格式清晰易读

**实际结果**: ⬜

**通过/失败**: ⬜

---

### TC-GRM-002: 名词变格表
**优先级**: P1 | **类型**: 功能测试

**测试步骤**:
1. 进入语法-名词
2. 查看定冠词变格表
3. 切换格（Nominativ/Akkusativ/Dativ/Genitiv）

**预期结果**:
- 四格表格完整显示
- 切换流畅无延迟
- 格式正确

**实际结果**: ⬜

**通过/失败**: ⬜

---

## 🔍 句子剖析测试

### TC-SSL-001: 基础句子分析
**优先级**: P0 | **类型**: 功能测试

**测试步骤**:
1. 打开"句子剖析"
2. 输入句子"Der Mann spielt heute Fußball."
3. 点击"分析"按钮
4. 查看逐词分析结果

**预期结果**:
- 每个词独立分析
- 显示词性（名词/动词/形容词等）
- 显示格（主格/宾格等）
- 显示时态
- 关键词高亮
- 语法讲解正确

**实际结果**: ⬜

**通过/失败**: ⬜

---

### TC-SSL-002: 语法高亮显示
**优先级**: P1 | **类型**: UI测试

**测试步骤**:
1. 分析复杂句子
2. 检查颜色编码
3. 验证不同语法元素的颜色

**预期结果**:
- 名词: 蓝色
- 动词: 绿色
- 形容词: 橙色
- 冠词: 灰色
- 颜色对比度符合WCAG标准

**实际结果**: ⬜

**通过/失败**: ⬜

---

## 🤖 AI对话系统测试

### TC-AI-001: 规则引擎基础对话
**优先级**: P0 | **类型**: 功能测试

**前置条件**:
- 免费用户（未订阅）

**测试步骤**:
1. 打开AI对话界面
2. 选择场景"日常问候"
3. 发送"Hallo"
4. 查看AI响应

**预期结果**:
- 场景正确加载
- AI理解问候意图
- 返回合适的德语问候语
- 响应时间 < 500ms（本地规则引擎）
- 配额显示正确（免费用户20条/天）

**实际结果**: ⬜

**通过/失败**: ⬜

---

### TC-AI-002: 试用期开始
**优先级**: P0 | **类型**: 功能测试

**前置条件**:
- 新用户，未试用过

**测试步骤**:
1. 打开AI对话
2. 点击"开始7天试用"按钮
3. 确认对话框
4. 检查订阅状态

**预期结果**:
- 试用开始成功
- 状态显示为"试用 X天剩余"
- 配额更新为50条/天
- AI功能解锁

**实际结果**: ⬜

**通过/失败**: ⬜

---

### TC-AI-003: 配额管理
**优先级**: P0 | **类型**: 功能测试

**测试步骤**:
1. 免费用户发送20条消息
2. 尝试发送第21条
3. 试用用户发送50条消息
4. 检查配额重置

**预期结果**:
- 免费用户第21条被阻止
- 显示升级提示
- 试用用户第51条被阻止
- 次日00:00自动重置

**实际结果**: ⬜

**通过/失败**: ⬜

---

### TC-AI-004: 场景切换
**优先级**: P1 | **类型**: 功能测试

**测试步骤**:
1. 在"日常问候"场景对话
2. 点击场景选择
3. 切换到"购物"场景
4. 验证上下文是否保留

**预期结果**:
- 场景正确切换
- AI响应适应新场景
- 上下文合理处理

**实际结果**: ⬜

**通过/失败**: ⬜

---

## 💳 订阅系统测试

### TC-SUB-001: 订阅购买流程
**优先级**: P0 | **类型**: 功能测试

**测试步骤**:
1. 打开设置
2. 点击"升级到Premium"
3. 选择"月度订阅"
4. 查看计划详情
5. 点击"确认购买"
6. 模拟支付成功
7. 检查订阅状态

**预期结果**:
- 所有订阅计划正确显示
- 价格计算正确
- 购买流程顺畅
- 订阅状态立即更新
- 配额自动更新
- 功能解锁

**实际结果**: ⬜

**通过/失败**: ⬜

---

### TC-SUB-002: 家庭组订阅
**优先级**: P1 | **类型**: 功能测试

**测试步骤**:
1. 选择家庭组订阅
2. 查看计划详情
3. 确认5人共享
4. 完成购买

**预期结果**:
- 显示5人限制
- 价格为€150/年
- 每人€2.5/月
- 配额500次/月共享
- 功能说明完整

**实际结果**: ⬜

**通过/失败**: ⬜

---

### TC-SUB-003: 订阅取消
**优先级**: P1 | **类型**: 功能测试

**测试步骤**:
1. 进入订阅管理
2. 点击"取消订阅"
3. 确认取消
4. 检查订阅状态

**预期结果**:
- 取消确认对话框清晰
- 自动续费已关闭
- 订阅期结束后不再续费
- 期间保持所有功能
- 配额保持有效

**实际结果**: ⬜

**通过/失败**: ⬜

---

## 📁 个人知识库测试

### TC-PKB-001: CSV词汇导入
**优先级**: P1 | **类型**: 功能测试

**测试数据**:
```
word,article,meaning,example,translation
der Tisch,the,桌子,Der Tisch ist groß.,桌子很大
```

**测试步骤**:
1. 打开个人知识库
2. 点击"导入"
3. 选择CSV文件
4. 点击"确认导入"
5. 等待导入完成
6. 检查导入的词汇

**预期结果**:
- 文件选择器正常
- CSV正确解析
- 数据验证通过
- 导入进度显示
- 错误处理得当（格式错误）
- 导入成功提示

**实际结果**: ⬜

**通过/失败**: ⬜

---

### TC-PKB-002: 搜索功能
**优先级**: P1 | **类型**: 功能测试

**测试步骤**:
1. 导入大量词汇
2. 搜索"Tisch"
3. 搜索"桌子"
4. 搜索不存在的词

**预期结果**:
- 德语搜索精确匹配
- 中文搜索模糊匹配
- 搜索结果相关性排序
- 响应时间 < 1秒
- 无结果时显示提示

**实际结果**: ⬜

**通过/失败**: ⬜

---

## 🎙️ 演讲学习测试

### TC-SPCH-001: 演讲播放
**优先级**: P1 | **类型**: 功能测试

**测试步骤**:
1. 打开演讲学习
2. 选择演讲者"Angela Merkel"
3. 点击播放按钮
4. 调节播放速度
5. 暂停/继续
6. 查看脚本

**预期结果**:
- 音频正常播放
- 速度调节流畅（0.5x-1.5x）
- 进度条可拖动
- 脚本同步显示
- 词汇高亮正确

**实际结果**: ⬜

**通过/失败**: ⬜

---

### TC-SPCH-002: 进度保存
**优先级**: P1 | **类型**: 功能测试

**测试步骤**:
1. 播放演讲到50%
2. 退出页面
3. 重新进入
4. 验证播放位置

**预期结果**:
- 播放位置正确保存
- 重新进入时从上次位置继续
- 进度条显示正确

**实际结果**: ⬜

**通过/失败**: ⬜

---

## 🚀 性能测试用例

### TC-PERF-001: 应用启动时间
**优先级**: P1 | **类型**: 性能测试

**测试步骤**:
1. 完全关闭app
2. 重新启动
3. 测量启动时间
4. 重复3次取平均

**预期结果**:
- 冷启动 < 5秒
- 热启动 < 3秒
- 首屏加载 < 2秒

**实际结果**: ⬜

**通过/失败**: ⬜

---

### TC-PERF-002: 内存使用
**优先级**: P1 | **类型**: 性能测试

**测试步骤**:
1. 打开所有主要功能
2. 加载大量数据
3. 使用Profiler测量内存

**预期结果**:
- 空闲内存 < 100MB
- 峰值内存 < 200MB
- 无明显内存泄漏

**实际结果**: ⬜

**通过/失败**: ⬜

---

## 🔐 安全测试用例

### TC-SEC-001: API密钥存储
**优先级**: P0 | **类型**: 安全测试

**测试步骤**:
1. 输入OpenAI API密钥
2. 保存配置
3. 检查SharedPreferences
4. 检查安全存储

**预期结果**:
- API密钥加密存储
- 不以明文保存在SharedPreferences
- 使用flutter_secure_storage

**实际结果**: ⬜

**通过/失败**: ⬜

---

### TC-SEC-002: 数据隔离
**优先级**: P1 | **类型**: 安全测试

**测试步骤**:
1. 用户A登录
2. 添加个人词汇
3. 用户B登录
4. 检查是否能看到用户A的数据

**预期结果**:
- 用户之间数据完全隔离
- 用户B看不到用户A的任何数据
- 用户B只能访问自己的数据

**实际结果**: ⬜

**通过/失败**: ⬜

---

## 🌐 兼容性测试用例

### TC-COMP-001: 屏幕尺寸适配
**优先级**: P1 | **类型**: 兼容性测试

**测试步骤**:
1. 在小屏手机(5.5")测试
2. 在大屏手机(6.7")测试
3. 在平板上测试
4. 横屏模式测试

**预期结果**:
- 所有屏幕尺寸UI正常
- 文字大小合适
- 按钮可点击
- 布局不溢出

**实际结果**: ⬜

**通过/失败**: ⬜

---

### TC-COMP-002: Android版本兼容
**优先级**: P1 | **类型**: 兼容性测试

**测试版本**:
- Android 10 (API 29)
- Android 12 (API 31)
- Android 13 (API 33)
- Android 14 (API 34)

**预期结果**:
- 所有版本功能正常
- 无版本兼容性问题
- 目标SDK兼容

**实际结果**: ⬜

**通过/失败**: ⬜

---

## 📋 测试执行记录

### 执行摘要
- 总用例数: 30+
- 已执行: 0
- 通过: 0
- 失败: 0
- 阻塞: 0
- 跳过: 0

### 执行进度
- [ ] P0功能: 0/10 (0%)
- [ ] P1功能: 0/15 (0%)
- [ ] P2功能: 0/8 (0%)
- [ ] 性能测试: 0/4 (0%)
- [ ] 安全测试: 0/2 (0%)
- [ ] 兼容性: 0/2 (0%)

---

## 🐛 Bug发现记录

### Bug跟踪表

| ID | 标题 | 严重程度 | 状态 | 分配给 | 发现日期 |
|----|------|----------|------|--------|----------|
| 001 | | P0 | Open | | |
| 002 | | P0 | Open | | |
| 003 | | P1 | Open | | |

---

## 📝 每日测试日志

### Day 1: YYYY-MM-DD
**测试人员**:
**测试范围**:

#### 上午
- [ ] TC-VOC-001: 词汇学习流程
- [ ] TC-VOC-002: FSRS算法

#### 下午
- [ ] TC-GRM-001: 动词变位表
- [ ] TC-SSL-001: 句子剖析

#### 发现问题
1.
2.

#### Bug修复
- [ ] Bug #001
- [ ] Bug #002

#### 明日计划
-
-

---

## ✅ 测试完成检查表

### 功能完整性
- [ ] 所有P0用例执行完成
- [ ] 所有P1用例执行完成
- [ ] 通过率 > 90%

### 质量标准
- [ ] 无P0未修复bug
- [ ] P1未修复bug < 5个
- [ ] 崩溃率 < 1%
- [ ] 性能指标达标

### 文档准备
- [ ] 测试报告完成
- [ ] Bug清单整理
- [ ] Beta计划文档
- [ ] 用户反馈表单

---

**测试负责人**: [待定]
**测试开始日期**: 2026-02-08
**预计完成日期**: 2026-02-22
**测试周期**: 2周

*最后更新: 2026-02-08*
